@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap');

/* ==========================================================================
   1. Global Styles & Resets
   ========================================================================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Fredoka', 'Comic Sans MS', 'Comic Sans', cursive, sans-serif;
  background: #f5f5f5;
  color: #2c2a4a;
  transition: background 1s ease-in-out;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body[class*="weather-"] {
  --sky-top: #98d7ff;
  --sky-mid: #c8eaff;
  --sky-bottom: #fff6f1;
  --ground: #ffeef8;
  --hill-light: rgba(255, 210, 236, 0.72);
  --hill-dark: rgba(200, 240, 205, 0.7);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.45) 0 3px, transparent 4px);
  --twinkle-size: 200px 200px;
  --twinkle-position: 0 0;
  --floaty-layer: radial-gradient(ellipse at 50% 45%, rgba(255, 255, 255, 0.6) 35%, transparent 70%);
  --floaty-size: 680px 280px;
  --floaty-position: 50px 16%;
  --accent-layer: linear-gradient(transparent, transparent);
  --accent-size: 100% 100%;
  --accent-position: center;
  --sun-layer: radial-gradient(circle, rgba(255, 242, 190, 0.9) 0 35%, rgba(255, 210, 120, 0.3) 35% 65%, transparent 75%);
  --sun-size: 260px 260px;
  --sun-position: 15% 18%;
  --hill-layer: repeating-linear-gradient(120deg, var(--hill-light) 0 95px, var(--hill-dark) 95px 190px);

  background-image: 
    var(--twinkle-layer),
    var(--floaty-layer),
    var(--accent-layer),
    var(--sun-layer),
    var(--hill-layer),
    linear-gradient(180deg, var(--sky-top) 0%, var(--sky-mid) 42%, var(--sky-bottom) 60%, var(--ground) 60%, var(--ground) 100%);
  background-size:
    var(--twinkle-size),
    var(--floaty-size),
    var(--accent-size),
    var(--sun-size),
    180% 170%,
    100% 100%;
  background-position:
    var(--twinkle-position),
    var(--floaty-position),
    var(--accent-position),
    var(--sun-position),
    50% 118%,
    center;
  background-repeat:
    repeat,
    repeat-x,
    no-repeat,
    no-repeat,
    repeat-x,
    no-repeat;
  background-attachment: fixed;
  transition: background 0.6s ease;
}

/* Whimsical weather palettes */
.weather-clear {
  --sky-top: #7fd5ff;
  --sky-mid: #b4f0ff;
  --sky-bottom: #ffeccd;
  --ground: #fff6fb;
  --hill-light: rgba(255, 214, 235, 0.78);
  --hill-dark: rgba(183, 239, 207, 0.78);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.5) 0 3px, transparent 4px);
  --twinkle-size: 220px 220px;
  --floaty-layer: radial-gradient(ellipse at 50% 45%, rgba(255, 255, 255, 0.85) 35%, transparent 65%);
  --floaty-size: 720px 260px;
  --floaty-position: 40px 14%;
  --accent-layer: conic-gradient(from 180deg at 80% 28%, rgba(255, 123, 189, 0.65) 0deg 18deg, rgba(255, 210, 120, 0.6) 18deg 36deg, rgba(132, 217, 255, 0.6) 36deg 54deg, rgba(188, 255, 195, 0.6) 54deg 72deg, transparent 72deg 360deg);
  --accent-size: 620px 320px;
  --accent-position: 78% 24%;
  --sun-layer: radial-gradient(circle, rgba(255, 240, 180, 0.95) 0 32%, rgba(255, 205, 120, 0.45) 32% 62%, transparent 70%);
  --sun-size: 260px 260px;
  --sun-position: 16% 18%;
}

.weather-cloudy {
  --sky-top: #a5baff;
  --sky-mid: #cfd8ff;
  --sky-bottom: #eef1ff;
  --ground: #f2efff;
  --hill-light: rgba(210, 220, 255, 0.75);
  --hill-dark: rgba(184, 197, 233, 0.75);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0 2.5px, transparent 3.5px);
  --twinkle-size: 210px 210px;
  --floaty-layer: radial-gradient(ellipse at 50% 45%, rgba(255, 255, 255, 0.9) 38%, transparent 68%);
  --floaty-size: 760px 300px;
  --floaty-position: 80px 18%;
  --accent-layer: linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, transparent 70%);
  --accent-size: 100% 100%;
  --accent-position: center;
  --sun-layer: radial-gradient(circle, rgba(255, 255, 255, 0.75) 0 40%, transparent 70%);
  --sun-position: 20% 18%;
}

.weather-rain {
  --sky-top: #6aa9ff;
  --sky-mid: #99c5ff;
  --sky-bottom: #d6e7ff;
  --ground: #e6f2ff;
  --hill-light: rgba(160, 195, 255, 0.75);
  --hill-dark: rgba(130, 170, 235, 0.75);
  --twinkle-layer: repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.22) 0 2px, transparent 2px 6px);
  --twinkle-size: 12px 18px;
  --twinkle-position: 0 0;
  --floaty-layer: radial-gradient(ellipse at 50% 40%, rgba(240, 250, 255, 0.55) 32%, transparent 62%);
  --floaty-size: 720px 260px;
  --floaty-position: 40px 14%;
  --accent-layer: linear-gradient(180deg, rgba(120, 170, 255, 0.35) 0%, transparent 65%);
  --accent-position: center;
  --sun-layer: radial-gradient(circle, rgba(220, 235, 255, 0.55) 0 38%, transparent 70%);
  --sun-position: 22% 16%;
}

.weather-snow {
  --sky-top: #b9ddff;
  --sky-mid: #d6ecff;
  --sky-bottom: #f2f8ff;
  --ground: #f7fbff;
  --hill-light: rgba(210, 230, 255, 0.75);
  --hill-dark: rgba(185, 210, 240, 0.75);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0 2px, transparent 3px);
  --twinkle-size: 160px 160px;
  --floaty-layer: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.75) 0 28%, transparent 55%);
  --floaty-size: 320px 320px;
  --floaty-position: 0 12%;
  --accent-layer: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0 18%, transparent 32%);
  --accent-size: 400px 400px;
  --accent-position: 80% 22%;
  --sun-layer: radial-gradient(circle, rgba(235, 245, 255, 0.8) 0 42%, transparent 70%);
  --sun-position: 18% 20%;
}

.weather-thunderstorm {
  --sky-top: #1a2045;
  --sky-mid: #2c3358;
  --sky-bottom: #374464;
  --ground: #2b3148;
  --hill-light: rgba(70, 80, 120, 0.8);
  --hill-dark: rgba(40, 48, 80, 0.85);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.25) 0 2px, transparent 3px);
  --twinkle-size: 180px 180px;
  --floaty-layer: radial-gradient(ellipse at 50% 42%, rgba(255, 255, 255, 0.18) 38%, transparent 70%);
  --floaty-size: 720px 260px;
  --floaty-position: 60px 14%;
  --accent-layer: repeating-linear-gradient(120deg, transparent 0 95px, rgba(255, 255, 255, 0.18) 95px 102px);
  --accent-size: 240px 240px;
  --accent-position: 70% 18%;
  --sun-layer: radial-gradient(circle, rgba(255, 255, 255, 0.35) 0 28%, transparent 65%);
  --sun-position: 18% 18%;
  color: rgba(240, 243, 255, 0.95);
}

.weather-hot {
  --sky-top: #ff9f6d;
  --sky-mid: #ffc08b;
  --sky-bottom: #ffe7b5;
  --ground: #fff1d1;
  --hill-light: rgba(255, 196, 140, 0.72);
  --hill-dark: rgba(255, 164, 150, 0.72);
  --twinkle-layer: radial-gradient(circle, rgba(255, 240, 200, 0.55) 0 3px, transparent 4px);
  --twinkle-size: 210px 210px;
  --floaty-layer: radial-gradient(ellipse at 50% 42%, rgba(255, 220, 170, 0.6) 32%, transparent 60%);
  --floaty-size: 640px 240px;
  --floaty-position: 40px 15%;
  --accent-layer: conic-gradient(from 200deg at 20% 25%, rgba(255, 166, 92, 0.6) 0deg 35deg, rgba(255, 114, 94, 0.6) 35deg 70deg, transparent 70deg 360deg);
  --accent-size: 520px 280px;
  --accent-position: 22% 22%;
  --sun-layer: radial-gradient(circle, rgba(255, 209, 106, 0.95) 0 38%, rgba(255, 125, 54, 0.45) 38% 62%, transparent 72%);
  --sun-position: 15% 18%;
}

.weather-cold {
  --sky-top: #83e1ff;
  --sky-mid: #b3f0ff;
  --sky-bottom: #e0f8ff;
  --ground: #eafdff;
  --hill-light: rgba(170, 230, 255, 0.75);
  --hill-dark: rgba(140, 200, 240, 0.75);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.55) 0 2.5px, transparent 3.5px);
  --twinkle-size: 190px 190px;
  --floaty-layer: radial-gradient(circle at 50% 50%, rgba(200, 245, 255, 0.65) 0 32%, transparent 55%);
  --floaty-size: 360px 360px;
  --floaty-position: 0 12%;
  --accent-layer: radial-gradient(circle at 70% 22%, rgba(210, 240, 255, 0.55) 0 22%, transparent 36%);
  --accent-size: 360px 360px;
  --accent-position: 72% 22%;
  --sun-layer: radial-gradient(circle, rgba(220, 245, 255, 0.75) 0 40%, transparent 70%);
  --sun-position: 18% 20%;
}

.weather-default {
  --sky-top: #bcd5ff;
  --sky-mid: #d8e4ff;
  --sky-bottom: #f8f3ff;
  --ground: #f9f4ff;
  --hill-light: rgba(220, 210, 255, 0.72);
  --hill-dark: rgba(190, 225, 240, 0.72);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0 3px, transparent 4px);
  --twinkle-size: 210px 210px;
  --floaty-layer: radial-gradient(ellipse at 50% 45%, rgba(255, 255, 255, 0.7) 35%, transparent 70%);
  --floaty-size: 700px 280px;
  --floaty-position: 60px 16%;
  --accent-layer: linear-gradient(180deg, rgba(220, 210, 255, 0.35) 0%, transparent 65%);
  --accent-position: center;
  --sun-layer: radial-gradient(circle, rgba(245, 240, 255, 0.8) 0 36%, transparent 70%);
  --sun-position: 18% 20%;
}

/* Smooth scrolling for all scrollable containers */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 10px;
}

*::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  transition: background 0.3s ease;
}

*::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}


a {
  text-decoration: none; /* Removes underlines and other text decorations */
  color: inherit; /* Inherits the color from its parent element */
}

/* ==========================================================================
   2. App Navbar - Cartoonish & Weather-Reflective
   ========================================================================== */
.app-navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 25px;
  background: rgba(255, 255, 255, 0.95);
  border-bottom: none;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15), 0 0 0 4px rgba(255, 255, 255, 0.5);
  border-radius: 0 0 40px 40px;
  backdrop-filter: blur(10px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow;
}

/* Weather-specific navbar colors */
.weather-clear .app-navbar {
  background: rgba(255, 248, 220, 0.95);
  box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3), 0 0 0 4px rgba(255, 255, 200, 0.6);
}

.weather-cloudy .app-navbar {
  background: rgba(240, 248, 255, 0.95);
  box-shadow: 0 4px 20px rgba(176, 196, 222, 0.3), 0 0 0 4px rgba(230, 230, 250, 0.6);
}

.weather-rain .app-navbar {
  background: rgba(230, 240, 250, 0.95);
  box-shadow: 0 4px 20px rgba(70, 130, 180, 0.3), 0 0 0 4px rgba(173, 216, 230, 0.6);
}

.weather-snow .app-navbar {
  background: rgba(255, 255, 255, 0.98);
  box-shadow: 0 4px 20px rgba(176, 224, 230, 0.3), 0 0 0 4px rgba(240, 248, 255, 0.8);
}

.weather-thunderstorm .app-navbar {
  background: rgba(25, 25, 112, 0.95);
  color: #fff;
  box-shadow: 0 4px 20px rgba(0, 0, 51, 0.5), 0 0 0 4px rgba(75, 0, 130, 0.6);
}

.weather-hot .app-navbar {
  background: rgba(255, 250, 205, 0.95);
  box-shadow: 0 4px 20px rgba(255, 69, 0, 0.4), 0 0 0 4px rgba(255, 215, 0, 0.6);
}

.weather-cold .app-navbar {
  background: rgba(224, 255, 255, 0.95);
  box-shadow: 0 4px 20px rgba(0, 206, 209, 0.3), 0 0 0 4px rgba(176, 224, 230, 0.6);
}

.nav-left {
  display: flex;
  align-items: center;
  gap: 15px;
  flex: 1;
  min-width: 0; /* Prevents flex item from overflowing */
}

.nav-right {
  display: flex;
  align-items: center;
}

.settings-button {
  background: rgba(255, 255, 255, 0.8);
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  font-size: 28px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  animation: settings-spin 4s linear infinite;
  will-change: transform, box-shadow;
}

@keyframes settings-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.settings-button:hover {
  transform: rotate(180deg) scale(1.15);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
  background: rgba(255, 255, 255, 1);
}

.app-name {
  font-weight: 700;
  font-size: 24px;
  color: #241c49;
  letter-spacing: 0.6px;
  text-shadow: 0 3px 10px rgba(70, 40, 130, 0.22);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
}

.app-name:hover {
  transform: scale(1.12) rotate(1deg);
  text-shadow: 0 6px 16px rgba(50, 30, 100, 0.25);
}

.weather-thunderstorm .app-name {
  color: #fff;
  text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.3);
}

.dark-mode .app-name {
  color: #f7f4ff;
  text-shadow: 0 4px 14px rgba(0, 0, 0, 0.45);
}

.search-container {
  flex: 1;
  display: flex;
  gap: 10px;
  max-width: 500px;
}

.search-input {
  flex: 1;
  padding: 14px 22px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 30px;
  font-size: 16px;
  font-family: 'Fredoka', cursive;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow, border-color;
}

.search-input:focus {
  outline: none;
  background: rgba(255, 255, 255, 1);
  border-color: rgba(102, 126, 234, 0.5);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.15), 0 0 0 5px rgba(102, 126, 234, 0.3);
  transform: scale(1.02);
}

.search-button {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 30px;
  padding: 14px 22px;
  cursor: pointer;
  font-size: 22px;
  color: white;
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5), inset 0 2px 4px rgba(255, 255, 255, 0.3);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow;
}

.search-button:hover {
  transform: translateY(-4px) scale(1.1) rotate(5deg);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6), inset 0 2px 4px rgba(255, 255, 255, 0.4);
}

.search-button:active {
  transform: translateY(-2px) scale(1.05);
}

/* ==========================================================================
   3. Main Content Layout
   ========================================================================== */
.main-content {
  display: flex;
  gap: 15px;
  padding: 15px;
  padding-bottom: 110px;
  max-width: 1400px;
  margin: 0 auto;
  background: transparent;
  min-height: calc(100vh - 80px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ==========================================================================
   4. Search Results Component - Cartoonish & Weather-Reflective
   ========================================================================== */
.search-results {
  width: 260px;
  background: rgba(255, 255, 255, 0.95);
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-radius: 35px;
  padding: 20px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2), inset 0 2px 10px rgba(255, 255, 255, 0.5);
  backdrop-filter: blur(15px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  align-self: flex-start;
  will-change: transform, box-shadow;
  overflow-y: auto;
  scroll-behavior: smooth;
}

/* Weather-specific search results */
.weather-clear .search-results {
  background: rgba(255, 248, 220, 0.95);
  border-color: rgba(255, 215, 0, 0.4);
  box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3), inset 0 2px 10px rgba(255, 255, 200, 0.6);
}

.weather-cloudy .search-results {
  background: rgba(240, 248, 255, 0.95);
  border-color: rgba(176, 196, 222, 0.4);
  box-shadow: 0 10px 40px rgba(176, 196, 222, 0.3), inset 0 2px 10px rgba(230, 230, 250, 0.6);
}

.weather-rain .search-results {
  background: rgba(230, 240, 250, 0.95);
  border-color: rgba(70, 130, 180, 0.4);
  box-shadow: 0 10px 40px rgba(70, 130, 180, 0.3), inset 0 2px 10px rgba(173, 216, 230, 0.6);
}

.weather-snow .search-results {
  background: rgba(255, 255, 255, 0.98);
  border-color: rgba(176, 224, 230, 0.5);
  box-shadow: 0 10px 40px rgba(176, 224, 230, 0.3), inset 0 2px 10px rgba(240, 248, 255, 0.8);
}

.weather-thunderstorm .search-results {
  background: rgba(25, 25, 112, 0.95);
  border-color: rgba(75, 0, 130, 0.6);
  color: #fff;
  box-shadow: 0 10px 40px rgba(0, 0, 51, 0.5), inset 0 2px 10px rgba(75, 0, 130, 0.6);
}

.weather-hot .search-results {
  background: rgba(255, 250, 205, 0.95);
  border-color: rgba(255, 69, 0, 0.5);
  box-shadow: 0 10px 40px rgba(255, 69, 0, 0.4), inset 0 2px 10px rgba(255, 215, 0, 0.6);
}

.weather-cold .search-results {
  background: rgba(224, 255, 255, 0.95);
  border-color: rgba(0, 206, 209, 0.4);
  box-shadow: 0 10px 40px rgba(0, 206, 209, 0.3), inset 0 2px 10px rgba(176, 224, 230, 0.6);
}

.results-title {
  font-size: 22px;
  margin-bottom: 20px;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.result-item {
  display: flex;
  align-items: center;
  gap: 18px;
  margin-top: 12px;
  padding: 18px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 25px;
  background: rgba(255, 255, 255, 0.8);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), inset 0 1px 3px rgba(255, 255, 255, 0.5);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  will-change: transform, box-shadow;
}

.result-item:hover {
  transform: translateY(-5px) scale(1.03) rotate(1deg);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25), inset 0 1px 3px rgba(255, 255, 255, 0.6);
  background: rgba(255, 255, 255, 1);
}

.result-icon {
  font-size: 40px;
}

.result-info {
  flex: 1;
}

.result-location {
  font-weight: 700;
  margin-bottom: 6px;
  font-size: 16px;
}

.result-temp {
  font-size: 28px;
  font-weight: 700;
}

/* ==========================================================================
   5. Weather Section Component - Cartoonish & Weather-Reflective
   ========================================================================== */
.weather-section {
  flex: 1;
  background: rgba(255, 255, 255, 0.95);
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-radius: 40px;
  padding: 20px;
  overflow-x: auto;
  overflow-y: auto;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2), inset 0 2px 10px rgba(255, 255, 255, 0.5);
  backdrop-filter: blur(15px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  align-self: flex-start;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Weather-specific weather section */
.weather-clear .weather-section {
  background: rgba(255, 248, 220, 0.95);
  border-color: rgba(255, 215, 0, 0.4);
  box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3), inset 0 2px 10px rgba(255, 255, 200, 0.6);
}

.weather-cloudy .weather-section {
  background: rgba(240, 248, 255, 0.95);
  border-color: rgba(176, 196, 222, 0.4);
  box-shadow: 0 10px 40px rgba(176, 196, 222, 0.3), inset 0 2px 10px rgba(230, 230, 250, 0.6);
}

.weather-rain .weather-section {
  background: rgba(230, 240, 250, 0.95);
  border-color: rgba(70, 130, 180, 0.4);
  box-shadow: 0 10px 40px rgba(70, 130, 180, 0.3), inset 0 2px 10px rgba(173, 216, 230, 0.6);
}

.weather-snow .weather-section {
  background: rgba(255, 255, 255, 0.98);
  border-color: rgba(176, 224, 230, 0.5);
  box-shadow: 0 10px 40px rgba(176, 224, 230, 0.3), inset 0 2px 10px rgba(240, 248, 255, 0.8);
}

.weather-thunderstorm .weather-section {
  background: rgba(25, 25, 112, 0.95);
  border-color: rgba(75, 0, 130, 0.6);
  color: #fff;
  box-shadow: 0 10px 40px rgba(0, 0, 51, 0.5), inset 0 2px 10px rgba(75, 0, 130, 0.6);
}

.weather-hot .weather-section {
  background: rgba(255, 250, 205, 0.95);
  border-color: rgba(255, 69, 0, 0.5);
  box-shadow: 0 10px 40px rgba(255, 69, 0, 0.4), inset 0 2px 10px rgba(255, 215, 0, 0.6);
}

.weather-cold .weather-section {
  background: rgba(224, 255, 255, 0.95);
  border-color: rgba(0, 206, 209, 0.4);
  box-shadow: 0 10px 40px rgba(0, 206, 209, 0.3), inset 0 2px 10px rgba(176, 224, 230, 0.6);
}

.location-header h2 {
  font-size: 24px;
  margin-bottom: 15px;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.condition-filters {
  display: flex;
  gap: 15px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

.filter-checkbox {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  font-size: 16px;
  font-weight: 600;
  padding: 10px 15px;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.6);
  border: 2px solid rgba(0, 0, 0, 0.1);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  will-change: transform, box-shadow;
}

.filter-checkbox:hover {
  transform: scale(1.1) rotate(2deg);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.filter-checkbox input[type="checkbox"] {
  width: 22px;
  height: 22px;
  cursor: pointer;
  accent-color: currentColor;
  transform: scale(1.2);
}

.good-check {
  color: #4CAF50;
}

.bad-check {
  color: #2196F3;
}

.unsuitable-check {
  color: #f44336;
}

/* 5.2 Weather Cards Container
   -------------------------------------------------------------------------- */
.weather-cards {
  display: flex;
  gap: 15px;
  overflow-x: auto;
  padding-bottom: 5px;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* 5.3 Individual Weather Card - Cartoonish Style */
.weather-card {
  border: 4px solid rgba(0, 0, 0, 0.15);
  border-radius: 35px;
  padding: 20px;
  text-align: center;
  position: relative;
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2), inset 0 2px 8px rgba(255, 255, 255, 0.5);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(10px);
  min-width: 180px;
  will-change: transform, box-shadow;
}

.weather-card:hover {
  transform: translateY(-8px) scale(1.04);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3), inset 0 2px 8px rgba(255, 255, 255, 0.6);
  z-index: 10;
}

/* 5.4 Weather Card Status Variants - Enhanced Cartoonish */
.weather-card.good {
  background: repeating-linear-gradient(
    45deg,
    rgba(232, 245, 233, 0.9),
    rgba(232, 245, 233, 0.9) 12px,
    rgba(200, 230, 201, 0.9) 12px,
    rgba(200, 230, 201, 0.9) 24px
  );
  border-color: rgba(76, 175, 80, 0.4);
  box-shadow: 0 6px 25px rgba(76, 175, 80, 0.3), inset 0 2px 8px rgba(255, 255, 255, 0.5);
}

.weather-card.bad {
  background: repeating-linear-gradient(
    45deg,
    rgba(227, 242, 253, 0.9),
    rgba(227, 242, 253, 0.9) 12px,
    rgba(187, 222, 251, 0.9) 12px,
    rgba(187, 222, 251, 0.9) 24px
  );
  border-color: rgba(33, 150, 243, 0.4);
  box-shadow: 0 6px 25px rgba(33, 150, 243, 0.3), inset 0 2px 8px rgba(255, 255, 255, 0.5);
}

.weather-card.unsuitable {
  background: repeating-linear-gradient(
    45deg,
    rgba(255, 235, 238, 0.9),
    rgba(255, 235, 238, 0.9) 12px,
    rgba(255, 205, 210, 0.9) 12px,
    rgba(255, 205, 210, 0.9) 24px
  );
  border-color: rgba(244, 67, 54, 0.4);
  box-shadow: 0 6px 25px rgba(244, 67, 54, 0.3), inset 0 2px 8px rgba(255, 255, 255, 0.5);
  animation: card-shake 0.5s ease-in-out infinite;
}

@keyframes card-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px) rotate(-1deg); }
  75% { transform: translateX(3px) rotate(1deg); }
}

/* 5.5 Weather Card Content - Cartoonish */
.weather-icon {
  font-size: 70px;
  margin-bottom: 12px;
  filter: drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.2));
}

.weather-time {
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 8px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

.weather-temp {
  font-size: 36px;
  font-weight: 700;
  margin-bottom: 15px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);
}

.weather-tasks {
  margin-bottom: 20px;
  text-align: left;
}

.tasks-label {
  text-align: center;
  font-weight: 700;
  margin-bottom: 10px;
  font-size: 18px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

.tasks-content {
  text-align: center;
  font-size: 16px;
  min-height: 25px;
}

.tasks-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.task-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  font-size: 16px;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.8);
  border: 2px solid rgba(0, 0, 0, 0.1);
  margin: 6px 0;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  will-change: transform, box-shadow;
}

.task-item:hover {
  background: rgba(255, 255, 255, 1);
  transform: translateX(5px) scale(1.02);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
}

.delete-task-button {
  background: rgba(244, 67, 54, 0.2);
  border: 2px solid rgba(244, 67, 54, 0.3);
  border-radius: 50%;
  cursor: pointer;
  font-size: 16px;
  padding: 6px 10px;
  opacity: 0.8;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 6px rgba(244, 67, 54, 0.3);
  will-change: transform, opacity;
}

.delete-task-button:hover {
  opacity: 1;
  background: rgba(244, 67, 54, 0.4);
  transform: scale(1.2) rotate(90deg);
  box-shadow: 0 4px 10px rgba(244, 67, 54, 0.4);
}

.create-task-container {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 20px;
}

.create-task-button {
  width: 140px;
  padding: 12px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 25px;
  cursor: pointer;
  font-weight: 700;
  font-size: 16px;
  color: white;
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5), inset 0 2px 4px rgba(255, 255, 255, 0.3);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow;
}

.create-task-button:hover {
  transform: translateY(-3px) scale(1.1) rotate(2deg);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6), inset 0 2px 4px rgba(255, 255, 255, 0.4);
}

.task-input {
  width: 140px;
  padding: 12px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 25px;
  font-size: 16px;
  font-family: 'Fredoka', cursive;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow, border-color;
}

.task-input:focus {
  outline: none;
  background: rgba(255, 255, 255, 1);
  border-color: rgba(102, 126, 234, 0.5);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.15), 0 0 0 5px rgba(102, 126, 234, 0.3);
  transform: scale(1.05);
}

/* Error and Loading States - Cartoonish */
.error-message {
  padding: 25px;
  background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
  border: 4px solid rgba(244, 67, 54, 0.4);
  border-radius: 30px;
  color: #c62828;
  font-weight: 700;
  font-size: 18px;
  text-align: center;
  margin: 25px 0;
  box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4), inset 0 2px 8px rgba(255, 255, 255, 0.5);
  animation: error-shake 0.5s ease-in-out infinite;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

@keyframes error-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

.loading-spinner {
  padding: 50px;
  text-align: center;
  font-size: 20px;
  font-weight: 600;
  color: #666;
  animation: loading-bounce 1.5s ease-in-out infinite;
}

@keyframes loading-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.no-results {
  padding: 50px;
  text-align: center;
  font-size: 20px;
  font-weight: 600;
  color: #666;
  font-style: italic;
  animation: text-fade 2s ease-in-out infinite;
}

@keyframes text-fade {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.insights-marquee {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  overflow: hidden;
  padding: 8px 0 10px 0;
  background: linear-gradient(90deg, rgba(255, 214, 240, 0.96) 0%, rgba(188, 224, 255, 0.94) 50%, rgba(228, 210, 255, 0.96) 100%);
  color: #231744;
  font-weight: 600;
  font-size: 0.9rem;
  z-index: 1000;
  box-shadow: 0 -6px 20px rgba(90, 60, 130, 0.25);
  border-top: 2px solid rgba(70, 40, 120, 0.18);
}

.dark-mode .insights-marquee {
  background: linear-gradient(90deg, rgba(40, 46, 88, 0.92) 0%, rgba(28, 38, 78, 0.9) 50%, rgba(52, 40, 92, 0.92) 100%);
  color: #f3f5ff;
  box-shadow: 0 -10px 26px rgba(5, 8, 20, 0.6);
  border-top-color: rgba(140, 160, 255, 0.25);
}

.insights-marquee .marquee-track {
  display: flex;
  gap: 36px;
  width: max-content;
  animation: marquee-scroll 32s linear infinite;
  padding-left: 24px;
}

.insights-marquee .marquee-item {
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.insights-marquee .marquee-item strong {
  font-size: 0.95em;
}

.insights-marquee .marquee-anomaly {
  color: #902c5c;
}

.insights-marquee .marquee-recommendation {
  color: #1f4d78;
}

.dark-mode .insights-marquee .marquee-anomaly {
  color: #ff82b6;
}

.dark-mode .insights-marquee .marquee-recommendation {
  color: #7fd4ff;
}

@keyframes marquee-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@media (prefers-reduced-motion: reduce) {
  .insights-marquee .marquee-track {
    animation-duration: 60s;
  }
}

/* ==========================================================================
   6. Dark Mode Styles
   ========================================================================== */
/* Dark Mode Weather Backgrounds */
.dark-mode {
  color: rgba(240, 244, 255, 0.94);
}

.dark-mode[class*="weather-"] {
  color: rgba(245, 248, 255, 0.92);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.28) 0 2px, transparent 3px);
  --twinkle-size: 220px 220px;
  --floaty-layer: radial-gradient(ellipse at 50% 45%, rgba(255, 255, 255, 0.22) 35%, transparent 70%);
  --floaty-position: 60px 20%;
  --accent-layer: linear-gradient(transparent, transparent);
  --sun-layer: radial-gradient(circle, rgba(255, 225, 175, 0.45) 0 32%, transparent 70%);
  --sun-size: 220px 220px;
  --sun-position: 18% 18%;
  --hill-light: rgba(70, 76, 108, 0.7);
  --hill-dark: rgba(48, 54, 84, 0.75);
  --sky-top: #27324f;
  --sky-mid: #354265;
  --sky-bottom: #424f72;
  --ground: #2d3552;
}

.dark-mode.weather-clear {
  --sky-top: #21406c;
  --sky-mid: #305c92;
  --sky-bottom: #4a7aba;
  --ground: #293d6d;
  --hill-light: rgba(78, 113, 180, 0.72);
  --hill-dark: rgba(53, 88, 152, 0.76);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.35) 0 2.5px, transparent 3.5px);
  --accent-layer: conic-gradient(from 180deg at 78% 26%, rgba(255, 146, 205, 0.45) 0deg 18deg, rgba(255, 220, 125, 0.4) 18deg 36deg, rgba(120, 210, 255, 0.4) 36deg 54deg, transparent 54deg 360deg);
  --accent-size: 540px 260px;
  --accent-position: 76% 24%;
  --sun-layer: radial-gradient(circle, rgba(255, 215, 150, 0.65) 0 32%, transparent 68%);
}

.dark-mode.weather-cloudy {
  --sky-top: #2b3a58;
  --sky-mid: #3d4d6e;
  --sky-bottom: #4c5f80;
  --ground: #2b3654;
  --hill-light: rgba(90, 102, 140, 0.75);
  --hill-dark: rgba(64, 76, 110, 0.78);
  --floaty-layer: radial-gradient(ellipse at 50% 45%, rgba(235, 240, 255, 0.25) 38%, transparent 68%);
  --accent-layer: linear-gradient(180deg, rgba(210, 220, 255, 0.25) 0%, transparent 65%);
  --sun-layer: radial-gradient(circle, rgba(210, 220, 255, 0.45) 0 36%, transparent 68%);
}

.dark-mode.weather-rain {
  --sky-top: #1b3355;
  --sky-mid: #284262;
  --sky-bottom: #36516f;
  --ground: #23324d;
  --hill-light: rgba(70, 96, 130, 0.75);
  --hill-dark: rgba(48, 74, 105, 0.78);
  --twinkle-layer: repeating-linear-gradient(135deg, rgba(200, 220, 255, 0.25) 0 2px, transparent 2px 6px);
  --twinkle-size: 12px 18px;
  --accent-layer: linear-gradient(180deg, rgba(90, 130, 200, 0.35) 0%, transparent 60%);
  --sun-layer: radial-gradient(circle, rgba(200, 220, 255, 0.35) 0 32%, transparent 65%);
}

.dark-mode.weather-snow {
  --sky-top: #2b406a;
  --sky-mid: #3c5483;
  --sky-bottom: #4c6392;
  --ground: #30446b;
  --hill-light: rgba(100, 130, 175, 0.75);
  --hill-dark: rgba(78, 110, 160, 0.78);
  --twinkle-layer: radial-gradient(circle, rgba(240, 250, 255, 0.55) 0 2px, transparent 3px);
  --floaty-layer: radial-gradient(circle at 50% 50%, rgba(240, 250, 255, 0.35) 0 26%, transparent 48%);
  --accent-layer: radial-gradient(circle, rgba(220, 235, 255, 0.35) 0 20%, transparent 34%);
  --sun-layer: radial-gradient(circle, rgba(220, 235, 255, 0.55) 0 36%, transparent 64%);
}

.dark-mode.weather-thunderstorm {
  --sky-top: #0d1228;
  --sky-mid: #161b33;
  --sky-bottom: #1f243d;
  --ground: #111627;
  --hill-light: rgba(34, 38, 58, 0.85);
  --hill-dark: rgba(18, 22, 40, 0.9);
  --twinkle-layer: radial-gradient(circle, rgba(255, 255, 255, 0.25) 0 2px, transparent 3px);
  --floaty-layer: radial-gradient(ellipse at 50% 42%, rgba(255, 255, 255, 0.18) 38%, transparent 70%);
  --accent-layer: repeating-linear-gradient(118deg, transparent 0 90px, rgba(255, 240, 180, 0.25) 90px 96px);
  --accent-size: 220px 220px;
  --accent-position: 70% 16%;
  --sun-layer: radial-gradient(circle, rgba(240, 230, 255, 0.35) 0 26%, transparent 60%);
  color: rgba(235, 238, 255, 0.92);
}

.dark-mode.weather-hot {
  --sky-top: #4a1a28;
  --sky-mid: #6a2636;
  --sky-bottom: #8a3a42;
  --ground: #4b2431;
  --hill-light: rgba(153, 70, 72, 0.75);
  --hill-dark: rgba(114, 42, 55, 0.78);
  --twinkle-layer: radial-gradient(circle, rgba(255, 210, 160, 0.35) 0 2.5px, transparent 3.5px);
  --accent-layer: conic-gradient(from 210deg at 22% 28%, rgba(255, 140, 90, 0.4) 0deg 45deg, transparent 45deg 360deg);
  --accent-size: 420px 240px;
  --accent-position: 24% 24%;
  --sun-layer: radial-gradient(circle, rgba(255, 166, 94, 0.55) 0 34%, transparent 64%);
}

.dark-mode.weather-cold {
  --sky-top: #1a3e52;
  --sky-mid: #25556d;
  --sky-bottom: #2f6c86;
  --ground: #1e3f56;
  --hill-light: rgba(70, 135, 170, 0.75);
  --hill-dark: rgba(54, 110, 150, 0.78);
  --twinkle-layer: radial-gradient(circle, rgba(220, 245, 255, 0.45) 0 2px, transparent 3px);
  --floaty-layer: radial-gradient(circle at 50% 50%, rgba(190, 230, 255, 0.35) 0 24%, transparent 46%);
  --accent-layer: radial-gradient(circle at 72% 24%, rgba(170, 220, 255, 0.4) 0 20%, transparent 32%);
  --sun-layer: radial-gradient(circle, rgba(210, 240, 255, 0.5) 0 34%, transparent 64%);
}

.dark-mode.weather-default {
  --sky-top: #2c3243;
  --sky-mid: #3b4054;
  --sky-bottom: #484a60;
  --ground: #2a2f42;
  --hill-light: rgba(90, 96, 124, 0.72);
  --hill-dark: rgba(70, 78, 108, 0.78);
  --twinkle-layer: radial-gradient(circle, rgba(235, 235, 255, 0.32) 0 2.5px, transparent 3.5px);
  --accent-layer: linear-gradient(180deg, rgba(140, 150, 200, 0.25) 0%, transparent 60%);
  --sun-layer: radial-gradient(circle, rgba(225, 225, 255, 0.45) 0 32%, transparent 65%);
}

.dark-mode .app-navbar {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2), 0 0 0 4px rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
}

.dark-mode .search-input {
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
}

.dark-mode .search-input:focus {
  background: rgba(255, 255, 255, 0.22);
  border-color: rgba(102, 126, 234, 0.6);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.2), 0 0 0 5px rgba(102, 126, 234, 0.4);
}

.dark-mode .search-button {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
}

.dark-mode .main-content {
  background: transparent;
}

.dark-mode .search-results {
  background: rgba(255, 255, 255, 0.12);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(10px);
}

.dark-mode .result-item {
  background: rgba(255, 255, 255, 0.12);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.25);
}

.dark-mode .result-item:hover {
  background: rgba(255, 255, 255, 0.2);
}

.dark-mode .weather-section {
  background: rgba(255, 255, 255, 0.12);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(10px);
}

.dark-mode .location-header h2 {
  color: #fff;
}

.dark-mode .weather-card {
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.25);
}

.dark-mode .task-item {
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
}

.dark-mode .task-item:hover {
  background: rgba(255, 255, 255, 0.2);
}

.dark-mode .create-task-button {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
}

.dark-mode .create-task-button:hover {
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
}

.dark-mode .task-input {
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
}

.dark-mode .task-input:focus {
  background: rgba(255, 255, 255, 0.22);
  border-color: rgba(102, 126, 234, 0.6);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.2), 0 0 0 5px rgba(102, 126, 234, 0.4);
}

.dark-mode .filter-checkbox {
  color: #fff;
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
}

.dark-mode .error-message {
  background: rgba(244, 67, 54, 0.25);
  border-color: rgba(244, 67, 54, 0.5);
  color: #fff;
  backdrop-filter: blur(10px);
}

.dark-mode .loading-spinner {
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.dark-mode .no-results {
  color: rgba(255, 255, 255, 0.8);
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

/* ==========================================================================
   7. Responsive Design
   ========================================================================== */
@media (max-width: 768px) {
  .main-content {
    flex-direction: column;
  }

  .search-results {
    width: 100%;
  }

  .weather-cards {
    grid-template-columns: 1fr;
  }
}